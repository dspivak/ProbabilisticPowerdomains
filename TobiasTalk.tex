\documentclass[11pt, oneside, article]{memoir}

\settrims{0pt}{0pt} % page and stock same size
\settypeblocksize{*}{32pc}{*} % {height}{width}{ratio}
\setlrmargins{*}{*}{1} % {spine}{edge}{ratio}
\setulmarginsandblock{1in}{1in}{*} % height of typeblock computed
\setheadfoot{\onelineskip}{2\onelineskip} % {headheight}{footskip}
\setheaderspaces{*}{1.5\onelineskip}{*} % {headdrop}{headsep}{ratio}
\checkandfixthelayout



\usepackage{geometry}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{bbm}
\usepackage{accents}
\usepackage{newpxtext}
\usepackage[utf8]{inputenc}
\usepackage[varg,bigdelims]{newpxmath}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{mathpartir}
\usepackage[bookmarks=true, colorlinks=true, linkcolor=blue!50!red, citecolor=orange,
pdfencoding=unicode]{hyperref}
\usepackage[capitalize]{cleveref}
  \newcommand{\creflastconjunction}{, and\nobreakspace}%Make cleveref use serial comma
\usepackage[backend=biber,style = alphabetic]{biblatex}
  \addbibresource{Library20171206.bib}
\usepackage{todonotes}



\usetikzlibrary{
	cd,
	math,
	decorations.markings,
	positioning,
	arrows.meta,
	shapes,
	calc,
	fit,
	quotes,
	intersections}
\hypersetup{final}
\setlist{nosep}

\tikzset{
  tick/.style={postaction={
    decorate,
    decoration={markings, mark=at position 0.5 with {\draw[-] (0,.4ex) -- (0,-.4ex);}}}
  },
  tickx/.style={
    postaction={ decorate,
      decoration={markings,
        mark=at position 0.5 with {
          \fill circle [radius=.28ex];
        }
      }
    }
  }
}



\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[chapter] %change [] to chapter if we want to change global numbering
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{construction}[theorem]{Construction}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{axiom}{Axiom}
\newtheorem*{axiom*}{Axiom}

\theoremstyle{remark}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{warning}[theorem]{Warning}
\newtheorem{question}[theorem]{Question}

% environment for soundness proofs
\newenvironment{soundproof}{\begin{proof}[Soundness proof]}{\end{proof}}

\setcounter{axiom}{0}

% Renewed commands

\renewcommand{\ss}{\subseteq}

% Macros %
\DeclarePairedDelimiter{\church}{\llbracket}{\rrbracket}
\DeclarePairedDelimiter{\Church}{\llbracket}{\rrbracket}
\DeclarePairedDelimiter{\subtype}{[}{]}
\DeclarePairedDelimiter{\classify}{\ulcorner}{\urcorner}

\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator*{\colim}{colim}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Ob}{Ob}


\newcommand{\const}[1]{\mathtt{#1}}
\newcommand{\Set}[1]{\mathrm{#1}}
\newcommand{\cat}[1]{\mathcal{#1}}
\newcommand{\Cat}[1]{\mathbf{#1}}
\newcommand{\fun}[1]{\mathit{#1}}
\newcommand{\Fun}[1]{\mathsf{#1}}

\newcommand{\smset}{\Cat{Set}}


\newcommand{\tickar}{\begin{tikzcd}[baseline=-0.5ex,cramped,sep=small,ampersand replacement=\&]{}\ar[r,tick]\&{}\end{tikzcd}}
\newcommand{\xtickar}[1]{\stackrel{#1}{\tickar}}
\newcommand{\cocolon}{:\!}
\newcommand{\iso}{\cong}
\newcommand{\To}[1]{\xrightarrow{#1}}
\newcommand{\Too}[1]{\xrightarrow{\;\;#1\;\;}}
\newcommand{\from}{\leftarrow}
\newcommand{\From}[1]{\xleftarrow{#1}}
\newcommand{\Fromm}[1]{\xleftarrow{\;\;#1\;\;}}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\inj}{\rightarrowtail}
\newcommand{\wavyto}{\rightsquigarrow}

\newcommand{\tn}[1]{\textnormal{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\ubar}[1]{\underaccent{\bar}{#1}}


\newcommand{\internal}[1]{\raisebox{-.03ex}{$\mathbbmtt{#1}$}}
\newcommand{\hs}{\hspace{1.1pt}}


\newcommand{\EE}{\mathbb{E}} % expectation value
\newcommand{\II}{\mathbb{II}} % interval domain
\newcommand{\IR}{\mathbb{IR}} % interval domain
\newcommand{\NN}{\mathbb{N}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\VV}{\mathbb{V}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\LR}{\ul{\mathbb{R}}}

\newcommand{\tNN}{\internal{N}\hs}
\newcommand{\tQQ}{\internal{Q}\hs}
\newcommand{\tQQp}{\tQQ_{+}}
\newcommand{\tZZ}{\internal{Z}\hs}
\newcommand{\tQQub}{\QQ^\infty}
\newcommand{\tRR}{\internal{R}\hs}
\newcommand{\tIR}{\internal{I\hs R}\hs}
\newcommand{\tII}{\bar{\ubar{\tRR}}\hs}
\newcommand{\tLR}{\ubar{\tRR}\hs}
\newcommand{\tUR}{\bar{\tRR}\hs}
\newcommand{\tRRub}{\tRR^\infty}
\newcommand{\tIRub}{\internal{I\hs R}^\infty}
\newcommand{\tLRub}{\ubar{\tRR}^{\infty}}
\newcommand{\tURub}{\bar{\tRR}^{\infty}}
\newcommand{\tIIub}{\bar{\ubar{\tRR}}^{\infty}}

\newcommand{\tRRat}[1]{\tRR_{\SeeInline{#1}}}


\newcommand{\tConst}{\mathtt{C}}
\newcommand{\ShFun}[1]{\mathrm{Fn}(#1)}

\newcommand{\Ind}[1]{\Fun{Ind}\tn{-}#1}
\newcommand{\Psh}{\Fun{Psh}}
\newcommand{\Shv}{\Fun{Shv}}
\newcommand{\Cont}{\Fun{Cont}}
\newcommand{\Idl}{\Set{Idl}}
\newcommand{\yoneda}{\Fun{y}}

\newcommand{\Prop}{\const{Prop}}
\newcommand{\Time}{\const{Time}}
\newcommand{\Pt}{\const{Pt}}
\newcommand{\cc}{\const{cc}}
\newcommand{\unit}{\const{1}}
\newcommand{\Poset}{\Cat{Poset}}
\renewcommand{\Top}{\Cat{Top}}
\newcommand{\Op}{\Set{Op}}
\renewcommand{\C}{\Cat{C}}
\newcommand{\Sub}{\Set{Sub}}
\newcommand{\pt}{\Fun{pt}}

\newcommand{\op}{^\tn{op}}
\newcommand{\el}[1]{\tn{el}#1}
\newcommand{\asSh}{\Fun{Sh}} % sheafified object
\newcommand{\toSh}{\Fun{sh}} % sheafification map from object to sheafified object

\newcommand{\apart}{\,\#\,}
\newcommand{\restrict}[2]{#1\big|\hspace{0in}_{#2}}
\newcommand{\restrictsm}[2]{#1|\hspace{0in}_{#2}}
\newcommand{\BaseTopos}{\mathcal{B}}
\newcommand{\BaseSpace}{B}
\newcommand{\CB}{C\BaseSpace}
\newcommand{\Const}{\Fun{Const}}
\newcommand{\Sky}{\Fun{Sky}}

\newcommand{\Pointwise}{\pi}
\newcommand{\AtSymbol}{{@}}
\newcommand{\SeeSymbol}{{\down}}  % Old: \xi
\newcommand{\InSymbol}{{\upclose}}% Old: \iota
\newcommand{\At}[2][]{\AtSymbol^{#1}_{#2}}
\newcommand{\See}[2][]{\SeeSymbol^{#1}_{#2}}
\newcommand{\In}[2][]{\InSymbol^{#1}_{#2}}
\newcommand{\AtInline}[1]{@{#1}}
\newcommand{\SeeInline}[1]{\SeeSymbol{#1}}
\newcommand{\InInline}[1]{\InSymbol{#1}}


\newcommand{\sqss}{\sqsubseteq}
\newcommand{\specupclose}{{\uparrow}}
\newcommand{\specdownclose}{{\downarrow}}
\newcommand{\upclose}{{\rotatebox[origin=c]{90}{$\twoheadrightarrow$}}}
\newcommand{\downclose}{{\rotatebox[origin=c]{90}{$\twoheadleftarrow$}}}
\newcommand{\down}{\mathord{\downarrow}}
\newcommand{\up}{\mathord{\uparrow}}

\newcommand{\imp}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\true}{\const{true}}
\newcommand{\Bool}{\Set{Bool}}

\newcommand{\Span}{\Cat{Span}}
\newcommand{\set}{\text{--}\smset}


\newcommand{\erase}[1]{}

\linespread{1.2}
\setsecnumdepth{subsection}
\settocdepth{section}
\setlength{\parindent}{15pt}

%%%%%%%%%%%%% Document %%%%%%%%%%%%%
\begin{document}

\title{Towards synthetic Euclidean QFT}

\author{Tobias Fritz and David Spivak}

\maketitle

\todo[inline]{T: I'm writing this up so that some of it can potentially be incorporated into the paper}


%%%%%%%%% Chapter %%%%%%%%%

This talk will be less ambitious than what the title suggests.

\chapter{The meaning of ``synthetic''}

\begin{center}
\begin{tabular}{c|c|c|c}
& synthetic & & analytic \\\hline\hline
Euclidean geometry & Euclid & & Descartes \\\hline
Quantum mechanics & C*-algebras & Hilbert spaces + operators & wave functions \\\hline
Lorentzian QFT & (Schreiber-Shulman '15?) & e.g.~Haag-Kastler axioms & e.g.~Feynman diagrams \\\hline
Euclidean QFT & \fbox{\fbox{??}} & regularity structures & Gibbs measures, DLR equation
\end{tabular}
\end{center}

\chapter{Probability theory via logic}

Let us start with the case of ``Euclidean QFT'' in spacetime dimension $d = 0$: this is just probability theory.

Probability theory assigns probabilities (real numbers) to logical propositions, like: what is the probability that it will be raining tomorrow? What is the relevant structure of the collection of logical propositions?

\newcommand{\Frame}{\mathcal{F}}

\begin{definition}
A \emph{frame} is a partially ordered set $(\Frame,\leq)$ that is a complete lattice such that for all $x \in \Frame$ and families $(y_i) \subseteq \Frame$,
\[
	x \land \bigvee_{i} y_i = \bigvee_{i} (x \land y_i).
\]
\end{definition}

\newcommand{\Open}[1]{\mathcal{O}(#1)}

\begin{example}
If $(X,\Open{X})$ is a topological space, then $\Open{X}$ ordered under inclusion is a frame.
\end{example}

However, there are many frames other than this: an open $U\in\Open{X}$ is \emph{regular} if it is the interior of its closure. The regular opens also form a frame. (Correspoding to the smallest dense sublocale.)

\newcommand{\R}{\mathbb{R}}

\begin{definition}
A \emph{continuous probability valuation} on a frame $\Frame$ is a map $\mu : \Frame \to \R_+$ such that:
\begin{enumerate}
\item $\mu(\bot) = 0$ and $\mu(\top) = 1$;
\item If $x\leq y$, then $\mu(x) \leq \mu(y)$;
\item $\mu(x \land y) + \mu(x \lor y) = \mu(x) + \mu(y)$;
\item For any direted family $(x_i)$, we have
\[
	\mu\left( \bigvee_i x_i \right) = \sup_i \mu(x_i).
\]
\end{enumerate}
\end{definition}

The following is one of many related results establishing the correspondence with standard probability theory based on Kolmogorov's axioms:

\begin{theorem}[\href{https://www.sciencedirect.com/science/article/pii/S0166864101002498}{Alvarez-Manilla '02}]
If $X$ is regular, then the continuous probability valuations on $\Open{X}$ are in bijection with the regular $\tau$-smooth Borel probability measures on $X$.
\end{theorem}

For our purposes, working with continuous probability valuations is technically more convenient. It may also generally be the ``better'' approach towards measure and probability generally: based on similar definitions, one can resolve the Banach-Tarski paradox in $\R^n$ \emph{while retaining the measurability of all sets} (\href{https://www.sciencedirect.com/science/article/pii/S0168007211001874}{Simpson '12}). The trick is that disjoint sets with overlapping boundary are no longer disjoint, but intersect on some ``glue''.

\chapter{Topos theory as the logic of space}

What are the possible truth values of the proposition ``It is raining''?

Whether it rains or not is a function of both space and time! So arguably, the truth value should be the \emph{set of points in spacetime} at which it is raining. 

$\Rightarrow$ The set of truth values is the frame of opens $\Open{S}$, where $S$ is spacetime. Similar to modal logic: the points can be thought of as ``possible worlds'', but with some ``cohesion'' which relates them.

This defines the \emph{propositional} logic of space. Implication is given by
\[
	(U \Rightarrow V) := \bigvee_{W \: : \: W \cap U \subseteq V} W,
\]
which is the interior of $V\cup (X\setminus U)$. For example in $S = \R$,
\[
	((0,2) \Rightarrow (1,3)) = (-\infty, 0) \cup (1,\infty).
\]

As a special case, negation is $\lnot U := (U \Rightarrow \emptyset)$, which is the interior of the complement of $U$. (This discussion of implication and negation applies to all frames, not just frames of opens.)

Generally, we have $U \cup \lnot U \neq S$: \emph{the law of excluded middle fails}. Similarly, $\lnot\lnot U \not\Rightarrow U$, i.e.~double negation elimination does not work. All other basic inference rules are still valid, such as modus ponens: 
\[
	(U \Rightarrow V) \land (V\Rightarrow W) \quad \Rightarrow \quad U \Rightarrow W.
\]
More precisely, the valid arguments are those which are \emph{constructive}, i.e.~those which can be interpreted as computer programs.

\begin{example}
One can use constructive reasoning to still prove the law of excluded middle in the weaker form $\lnot\lnot(U \cup \lnot U) = \bot$. The topological interpration is that $U \cup \lnot U$ is dense in $X$.
\end{example}

So far we have considered only propositional logic. But in order to do mathematics, we also need to be able to work with sets with structure as mathematical objects and introduce quantifiers! This is what \emph{topos theory} is about.

I do not have time to give precise definitions here, so let me only state that also in the presence of quantifiers, the valid arguments are those which are constructive. i.e.~can be turned into computer programs: the law of excluded middle and the \emph{axiom of choice} may not be used.

A truth value in topos theory is an open set $U$, which can also be interpreted as a Boolean truth value ``$s\in U$'' which \emph{varies} in the point $s$. Similarly, a \emph{set} in topos theory is also a set that varies with $s$. These sets indeed just look like ordinary sets from the internal perspective given by the logic, but with slightly weaker properties in that e.g.~the axiom of choice does not hold. The external meaning of a set is that it is a \emph{family of sets varying in $s\in S$}, technically called a \emph{sheaf}. The logic allows us to reason about these families of sets \emph{as if} they were just individual sets.

In terms of physics, we can think of such a family of sets as a bundle over spacetime with discrete fibres. This is enough for certain kinds of physics, e.g.~Dijkgraaf-Witten theory. But generally in order to do physics with fields, we also want to talk about fields as sections of bundles with non-discrete fibres, i.e.~of families of topological spaces varying with $s \in S$!

\begin{definition}
A \emph{topological space} is a set $X$ together with a subset $\mathcal{T} \subseteq \Prop^X$ such that:
\begin{enumerate}
\item $\emptyset,X\in\mathcal{T}$;
\item $\mathcal{T}$ is closed under binary intersection;
\item $\mathcal{T}$ is closed under arbitrary union.
\end{enumerate}
\end{definition}

Here, $\Prop$ is the set of truth values in our logic.

\href{http://www.numdam.org/item?id=CM_1984__53_2_171_0}{Moerdijk '84} has worked out the precise relation between such internal topological spaces and ``ordinary'' external spaces (bundles) over $S$. Roughly, they correspond to bundles equipped with a flat connection.

\chapter{Probability theory in toposes}

There is now a simple obvious idea: formulate the definition of continuous probability valuation in terms of the logic! This will therefore result in a definition of probability space varying with $s \in S$. Could this be what we're looking for?

Before being able to restate the definition of continuous probability valuation in our weaker logic, we first \emph{need to define the real numbers}. There are various possiblities, all based on:

\newcommand{\Q}{\mathbb{Q}}

\begin{definition}
A \emph{lower cut} $L$ is a subset $L\subseteq\Q$ satisfying the following conditions:
\begin{enumerate}
\item if $a \in L$ and $b < a$, then $b\in L$;
\item if $a \in L$, then there is $c\in L$ with $a < c$.
\item There is $a\in L$.
\end{enumerate}
An \emph{upper cut} is defined analogously, but with the order reversed.
\end{definition}

Since everything now varies with $s\in S$, the subset relation $L \subseteq \Q$ here is such that for every $q\in\Q$, the containment ``$q\in L$'' is a truth value, i.e.~its truth varies with $s$.

We now have sveral possible definitions of real numbers:

\begin{itemize}
\item Lower reals $\tLR$: the set of lower cuts $L$;
\item Upper reals $\tUR$: the set of upper cuts $R$;
\item Dedekind reals $\tRR$: the set of pairs $(L,R)$ with $L$ a lower cut and $R$ an upper cut, such that:
\begin{enumerate}
\item $L \cap R = \emptyset$;
\item If $c < d$, then $c\in L$ or $d\in R$.
\end{enumerate}
\end{itemize}

One can prove that these are equivalent using double negation elimination. However, in our weaker logic, it is no longer possible to prove that these are equivalent. This is a feature rather than a bug, since they indeed describe different varying families of sets! The elements of these sets correspond, respectively, to

\begin{itemize}
\item Lower semicontinuous functions $S \to \R \cup \{+\infty\}$,
\item Upper semicontinuous functions $S \to \R \cup \{-\infty\}$,
\item Continuous functions $S \to \R$.
\end{itemize}

Which of these are most suitable to use in the context of probability theory? Lower reals are easy to bound from below, which matches up with the fact that membership in an open set is easy to witness: the indicator function of an open set is lower semi-continuous. Looking at the continuity condition on $\mu$, it seems most natural to assume that $\mu(x)$ is easy to bound from below, corresponding to the lower reals, which we use in the following internalized definition:

\begin{definition}
A \emph{continuous probability valuation} on a topological space $X$ is a map $\mu : \Open{X} \to \tLR_+$ such that:
\begin{enumerate}
\item $\mu(\emptyset) = 0$ and $\mu(X) = 1$;
\item If $U\leq V$, then $\mu(U) \leq \mu(V)$;
\item $\mu(U \land V) + \mu(X \lor V) = \mu(U) + \mu(V)$;
\item For any direted family $(U_i)$, we have
\[
	\mu\left( \bigvee_i U_i \right) = \sup_i \mu(U_i).
\]
\end{enumerate}
\end{definition}

\chapter{Euclidean QFT, conjecturally}


\chapter{The relation to AQFT}

\chapter{The DLR equations?}

\printbibliography

\end{document}
